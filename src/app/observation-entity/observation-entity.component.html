<ng-container *ngIf="loaded">
  
  <app-main-content [headerConfig]="headerConfig" (searchTermChange)="handleEntitySearchInput($event)"></app-main-content>
  
      <div class="add-btn-container">
        <button class="add-entity-btn" (click)="openAllEntityList()" [disabled]="!observationId" [ngClass]="{ 'disabled-button': !observationId }">{{ 'ADD_ENTITY' | translate:{ entity: entityToAdd } }}</button>
      </div>
    
      <div class="d-flex flex-dc gap-4">
        <div class="observation-list">
          <div class="grid-container">
            <div class="grid-item" *ngFor="let entity of filteredEntitiesOne">
              <mat-card class="observation-card" (click)="navigateToDetails(entity)">
                <mat-card-content class="card-content">
                  <h2 class="observation-name">{{ entity?.name }}</h2>
                  <div class="delete-container">
                    <button
                      *ngIf="entity?.submissionsCount == 0"
                      class="delete-btn"
                      color="warn"
                      (click)="deleteEntity(entity?._id); $event.stopPropagation()"
                    >
                      <mat-icon style="color: var(--color-grey);">delete</mat-icon>
                    </button>
                  </div>
                </mat-card-content>
              </mat-card>
              
            </div>
          </div>
        </div>
      </div>
    @if(!filteredEntitiesOne?.length){
      <app-no-data></app-no-data>
    }
  
  </ng-container>
  
  <app-spinner *ngIf="!loaded"></app-spinner>
  